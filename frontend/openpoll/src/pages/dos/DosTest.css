/* 전역 배경색 설정 - 하단 흰색 빈 공간 방지 */
html {
    background-color: #000 !important;
    height: 100%;
}

body {
    background-color: #000 !important;
    min-height: 100%;
}

#root {
    background-color: #000 !important;
    min-height: 100vh;
}

/* ========== Swiper 기본 CSS (필수) ========== */
.swiper {
    margin-left: auto;
    margin-right: auto;
    position: relative;
    overflow: visible;
    list-style: none;
    padding: 0;
    z-index: 1;
    display: block;
}

.swiper-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
    z-index: 1;
    display: flex;
    transition-property: transform;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    box-sizing: content-box;
}

.swiper-slide {
    flex-shrink: 0;
    width: 100%;
    height: 100%;
    position: relative;
    transition-property: transform, opacity;
    transition-duration: 0.6s;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    display: block;
}

/* ========== Swiper Coverflow Effect ========== */
.swiper-3d .swiper-slide-shadow,
.swiper-3d .swiper-slide-shadow-left,
.swiper-3d .swiper-slide-shadow-right,
.swiper-3d .swiper-slide-shadow-top,
.swiper-3d .swiper-slide-shadow-bottom {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 10;
}

.swiper-3d .swiper-wrapper {
    transform-style: preserve-3d;
}

.swiper-3d .swiper-slide {
    transform-style: preserve-3d;
}

/* ========== 커스텀 스타일 ========== */
.dos-swiper {
    width: 100%;
    height: 100%;
    padding: 20px 0;
    overflow: visible;
}

.dos-slide {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    /* transition 제거 - Swiper가 슬라이드 전환을 완전히 제어 */
}

/* 질문 카드 스타일 */
.question-card {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    padding: 1.25rem;
    border: 1px solid rgba(255, 255, 255, 0.05);
    transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1),
                background 0.6s cubic-bezier(0.4, 0, 0.2, 1),
                border-color 0.6s cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 0.6s cubic-bezier(0.4, 0, 0.2, 1),
                filter 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    width: 90%;
    max-width: 600px;
    display: flex;
    flex-direction: column;
    margin: 0 auto;
    min-height: 500px;
    /* transform 제거 - Swiper와 충돌 방지 */
}

/* 모바일 */
@media (max-width: 640px) {
    .question-card {
        width: 95%;
        max-width: 500px;
        min-height: 450px;
    }
}

/* 태블릿 */
@media (min-width: 641px) and (max-width: 1023px) {
    .question-card {
        width: 92%;
        max-width: 550px;
        min-height: 520px;
    }
}

/* 데스크톱 */
@media (min-width: 1024px) {
    .question-card {
        width: 90%;
        max-width: 650px;
        min-height: 560px;
    }
}

/* 큰 화면 */
@media (min-width: 1280px) {
    .question-card {
        min-height: 600px;
    }
}

/* 질문 텍스트 */
.question-text {
    font-weight: bold;
    line-height: 1.5;
    text-align: center;
    flex-shrink: 0;
    /* 화면 크기별 폰트 크기 */
    font-size: 1rem;
    /* 질문 영역 최소 높이 설정 - 전체의 25% */
    min-height: 20%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding-bottom: 1rem;
}

/* 답변 버튼 컨테이너 */
.answer-buttons-container {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    /* 버튼 영역은 전체의 75% 차지 */
    flex: 0 0 auto;
    margin-top: auto;
}

/* 답변 버튼 */
.answer-button {
    width: 100%;
    padding: 0.625rem 0.75rem;
    border-radius: 0.75rem;
    transition: all 0.2s;
}

.answer-button-default {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.answer-button-default:hover {
    background: rgba(255, 255, 255, 0.1);
}

.answer-button-selected {
    background: white;
    color: black;
    /* transform 제거 - Swiper와 충돌 방지 */
}

/* 답변 라벨 */
.answer-label {
    font-weight: 600;
    font-size: 0.75rem;
}

/* 라디오 버튼 */
.answer-radio {
    width: 1.125rem;
    height: 1.125rem;
    border-radius: 50%;
    border: 2px solid;
    transition: all 0.2s;
    flex-shrink: 0;
}

.answer-radio-default {
    border-color: rgba(255, 255, 255, 0.3);
}

.answer-radio-selected {
    background: black;
    border-color: black;
}

.answer-radio-dot {
    width: 0.375rem;
    height: 0.375rem;
    background: white;
    border-radius: 50%;
}

/* 반응형 - 태블릿 */
@media (min-width: 640px) {
    .question-card {
        border-radius: 24px;
        padding: 1.5rem;
    }

    .question-text {
        font-size: 1.25rem;
        padding-bottom: 1.25rem;
    }

    .answer-buttons-container {
        gap: 0.625rem;
    }

    .answer-button {
        padding: 0.75rem 1rem;
        border-radius: 0.875rem;
    }

    .answer-label {
        font-size: 0.875rem;
    }

    .answer-radio {
        width: 1.25rem;
        height: 1.25rem;
    }

    .answer-radio-dot {
        width: 0.5rem;
        height: 0.5rem;
    }

    .dos-swiper {
        padding: 16px 0;
    }
}

/* 반응형 - 데스크톱 */
@media (min-width: 768px) {
    .question-card {
        padding: 1.75rem;
    }

    .question-text {
        font-size: 1.375rem;
        padding-bottom: 1.5rem;
    }

    .answer-buttons-container {
        gap: 0.7rem;
    }

    .answer-button {
        padding: 0.8rem 1rem;
        border-radius: 0.95rem;
    }

    .answer-label {
        font-size: 0.9rem;
    }

    .dos-swiper {
        padding: 18px 0;
    }
}

/* 반응형 - 큰 화면 */
@media (min-width: 1024px) {
    .question-card {
        padding: 2rem;
    }

    .question-text {
        font-size: 1.5rem;
        padding-bottom: 1.75rem;
    }

    .answer-buttons-container {
        gap: 0.75rem;
    }

    .answer-button {
        padding: 0.875rem 1.125rem;
        border-radius: 1rem;
    }

    .answer-label {
        font-size: 0.9375rem;
    }

    .dos-swiper {
        padding: 20px 0;
    }
}

/* 반응형 - 아주 큰 화면 */
@media (min-width: 1280px) {
    .question-text {
        font-size: 1.625rem;
        padding-bottom: 2rem;
        min-height: 22%;
    }

    .answer-button {
        padding: 0.9375rem 1.25rem;
    }

    .answer-label {
        font-size: 1rem;
    }

    .answer-buttons-container {
        gap: 0.8rem;
    }
}

/* 활성화된 카드 - 가운데 강조 */
.question-card-active {
    border-color: rgba(255, 255, 255, 0.3);
    box-shadow: 0 30px 60px -12px rgba(255, 255, 255, 0.25);
    background: rgba(255, 255, 255, 0.1);
}

/* 비활성 슬라이드 스타일 - 양옆 카드 */
.dos-slide:not(.swiper-slide-active) .question-card {
    opacity: 0.25;
    /* transform 제거 - Swiper가 전체 슬라이드 크기를 제어 */
    pointer-events: none;
    filter: blur(3px);
    background: rgba(255, 255, 255, 0.03);
}

/* 활성 슬라이드만 선명하게 */
.swiper-slide-active .question-card {
    opacity: 1;
    /* transform 제거 - Swiper가 전체 슬라이드 크기를 제어 */
    filter: blur(0);
}

/* 모바일에서는 비활성 카드를 더 흐리게 */
@media (max-width: 640px) {
    .dos-slide:not(.swiper-slide-active) .question-card {
        opacity: 0.2;
        /* transform 제거 - Swiper가 전체 슬라이드 크기를 제어 */
        filter: blur(4px);
    }
}

/* 화살표 버튼 위치 */
.carousel-arrow {
    position: absolute !important;
    top: 50%;
    transform: translateY(-50%);
    z-index: 30 !important;
}

.carousel-arrow:hover {
    box-shadow: 0 12px 24px -6px rgba(255, 255, 255, 0.15);
}

/* 모바일 */
@media (max-width: 640px) {
    .carousel-arrow-left {
        left: 0.5rem;
    }

    .carousel-arrow-right {
        right: 0.5rem;
    }
}

/* 태블릿 */
@media (min-width: 641px) and (max-width: 1023px) {
    .carousel-arrow-left {
        left: 1rem;
    }

    .carousel-arrow-right {
        right: 1rem;
    }
}

/* 데스크톱 작은 화면 */
@media (min-width: 1024px) and (max-width: 1279px) {
    .carousel-arrow-left {
        left: 1.5rem;
    }

    .carousel-arrow-right {
        right: 1.5rem;
    }
}

/* 데스크톱 중간 화면 */
@media (min-width: 1280px) and (max-width: 1535px) {
    .carousel-arrow-left {
        left: calc(50% - 420px);
    }

    .carousel-arrow-right {
        right: calc(50% - 420px);
    }
}

/* 데스크톱 큰 화면 */
@media (min-width: 1536px) {
    .carousel-arrow-left {
        left: calc(50% - 480px);
    }

    .carousel-arrow-right {
        right: calc(50% - 480px);
    }
}

/* Swiper 슬라이드 전환 애니메이션 개선 */
.swiper-slide {
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 0.6s;
}

/* 활성 슬라이드 강조 */
.swiper-slide-active {
    z-index: 10;
}

/* 이전/다음 슬라이드 */
.swiper-slide-prev,
.swiper-slide-next {
    z-index: 5;
}

/* 활성 슬라이드 진입 애니메이션 */
.swiper-slide-active .question-card {
    animation: cardFadeIn 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes cardFadeIn {
    from {
        opacity: 0.5;
        /* transform 제거 - opacity만으로 페이드 인 효과 */
    }
    to {
        opacity: 1;
    }
}

/* 모바일 최적화 */
@media (max-width: 640px) {
    .dos-swiper {
        padding: 12px 0;
    }
}